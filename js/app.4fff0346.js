(function(t){function e(e){for(var a,n,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},r={app:0},i=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/weather-app/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var h=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"2bd3":function(t,e,s){"use strict";s("a49f")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],n=(s("034f"),s("2877")),o={},c=Object(n["a"])(o,r,i,!1,null,null,null),l=c.exports,h=s("8c4f"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text",placeholder:"Enter city name..."},domProps:{value:t.query},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchWeather.apply(null,arguments)},input:function(e){e.target.composing||(t.query=e.target.value)}}}),s("button",{on:{click:t.fetchWeather}},[s("span",{staticClass:"fas fa-search"})])]),t.cityName?s("div",{staticClass:"city-name"},[s("i",{staticClass:"fas fa-map-marker-alt"}),s("h1",[t._v(t._s(t.cityName)+", "+t._s(t.nowWeather.sys.country))])]):t._e(),t.shortForecast?s("div",{staticClass:"forecast"},[s("div",{staticClass:"forecast-item now"},[s("router-link",{attrs:{to:{name:"item",params:{id:"1-day"}}}},[s("div",[t._v("Now")]),s("div",{staticClass:"temp"},[s("span",{staticClass:"bigTemp"},[t._v(t._s(Math.round(t.nowWeather.main["temp"]))+"°")]),s("img",{attrs:{src:"https://openweathermap.org/img/wn/"+t.nowWeather.weather[0]["icon"]+"@2x.png",alt:""}})]),s("div",[t._v(t._s(t.nowWeatherDate.week))]),s("span",{staticClass:"night"},[s("div",[t._v(t._s(t.nowWeatherDate.date))])])])],1),t._l(t.shortForecast,(function(e,a){return s("div",{key:a,staticClass:"forecast-item"},[s("router-link",{attrs:{to:{name:"item",params:{id:a+2+"-day"}}}},[s("div",{staticClass:"temp small"},[s("img",{attrs:{src:"https://openweathermap.org/img/wn/"+e.img+".png",alt:""}}),t._v(" "+t._s(Math.round(e.tempDay))+"° "),s("span",{staticClass:"night"},[s("br"),t._v(t._s(Math.round(e.tempNight))+"°")])]),s("div",[t._v(t._s(e.week))]),s("span",{staticClass:"night"},[s("div",[t._v(t._s(e.date))])])])],1)}))],2):t._e()])},d=[],f=(s("a15b"),s("d3b7"),s("99af"),s("b0c0"),{name:"Weather",data:function(){return{api_key:"f6013adc357d259bcaea9db2ac822d1e",url_base:"http://api.openweathermap.org/data/2.5/weather",url_base_f:"http://api.openweathermap.org/data/2.5/forecast",query:"",sucsess:!1,sucsess_f:!1,weather:{},forecast:{},months:["Jan","Feb","March","April","May","June","July","August","September","October","November","December"],weeks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days:[],today:[],tomorrow:[],thirdDay:[],forthDay:[],fifthDay:[],allDays:[]}},mounted:function(){var t=this;if(null!=this.nowWeatherDate){var e=new Date,s=[e.getDate(),this.months[e.getMonth()]].join(" ");this.nowWeatherDate.date!=s&&(this.query=this.cityName,fetch("".concat(this.url_base,"?q=").concat(this.query,"&appid=").concat(this.api_key,"&units=metric")).then((function(t){return t.json()})).then((function(e){t.weather=e,t.$store.dispatch("nowWeather",t.weather),"undefined"!=typeof t.weather.main&&(t.sucsess=!0),t.fetchWeather_f()})))}},computed:{shortForecast:function(){return 0==this.$store.getters.shortForecast.length?null:this.$store.getters.shortForecast},cityName:function(){return 0==this.$store.getters.shortForecast.length?null:this.$store.getters.cityName},nowWeather:function(){return 0==this.$store.getters.nowWeather.length?null:this.$store.getters.nowWeather},nowWeatherDate:function(){if(null!=this.nowWeather){var t=new Date(1e3*this.nowWeather.dt),e=[t.getDate(),this.months[t.getMonth()]].join(" "),s=this.weeks[t.getDay()];return{date:e,week:s}}return null}},methods:{fetchWeather:function(){var t=this;fetch("".concat(this.url_base,"?q=").concat(this.query,"&appid=").concat(this.api_key,"&units=metric")).then((function(t){return t.json()})).then((function(e){"404"!==e.cod&&"400"!==e.cod?(t.weather=e,t.$store.dispatch("nowWeather",t.weather),"undefined"!=typeof t.weather.main&&(t.sucsess=!0),t.fetchWeather_f()):t.query=""}))},fetchWeather_f:function(){fetch("".concat(this.url_base_f,"?q=").concat(this.query,"&appid=").concat(this.api_key,"&units=metric")).then((function(t){return t.json()})).then(this.setResults)},setResults:function(t){this.query="",this.forecast=t,"undefined"!=typeof this.forecast.list&&(this.sucsess_f=!0);var e=(new Date).getDate();this.today=[],this.tomorrow=[],this.thirdDay=[],this.forthDay=[],this.fifthDay=[],this.allDays=[],this.days=[];for(var s=new Date,a=new Date(s.setDate(e+1)).getDate(),r=new Date(s.setDate(e+2)).getDate(),i=new Date(s.setDate(e+3)).getDate(),n=new Date(s.setDate(e+4)).getDate(),o=0;o<this.forecast.list.length;o++){var c=new Date(this.forecast.list[o]["dt_txt"]).getDate();e==c&&this.today.push(this.forecast.list[o]),a==c&&(this.tomorrow.push(this.forecast.list[o]),this.tomorrow2=this.forecast.list[o]),r==c&&this.thirdDay.push(this.forecast.list[o]),i==c&&this.forthDay.push(this.forecast.list[o]),n==c&&this.fifthDay.push(this.forecast.list[o])}this.allDays.push(this.today,this.tomorrow,this.thirdDay,this.forthDay,this.fifthDay),this.$store.dispatch("fullForecast",{newForecast:this.allDays,cityName:this.weather.name}),this.setShortResults()},setShortResults:function(){for(var t=[],e=[],s=1;s<this.allDays.length;s++){for(var a=0;a<this.allDays[s].length;a++)"n"==this.allDays[s][a]["sys"]["pod"]?e.push(Math.round(this.allDays[s][a].main.temp)):t.push(Math.round(this.allDays[s][a].main.temp));var r=Math.max.apply(null,t),i=Math.min.apply(null,e),n=new Date(this.allDays[s][0]["dt_txt"]),o=[n.getDate(),this.months[n.getMonth()]].join(" "),c=this.weeks[n.getDay()];this.days.push({date:o,week:c,tempDay:r,tempNight:i,img:this.allDays[s][4].weather[0].icon}),this.$store.dispatch("shortForecast",this.days),t=[],e=[]}}}}),p=f,m=(s("ae36"),Object(n["a"])(p,u,d,!1,null,"dfe3f69a",null)),y=m.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"info"},[s("div",{staticClass:"back"},[s("router-link",{attrs:{to:{name:"Home"}}},[s("button",[s("i",{staticClass:"fas fa-arrow-left fa-lg"})])])],1),s("div",{staticClass:"city-name"},[s("i",{staticClass:"fas fa-map-marker-alt"}),s("h1",[t._v(t._s(t.cityName))])]),s("span",[t._v(t._s(t.day))])]),s("div",{staticClass:"forecast"},[s("div",{staticClass:"features"},[s("div",{class:{selected:"temp"==t.selected},on:{click:function(e){t.selected="temp"}}},[t._v("Temperature")]),s("div",{class:{selected:"wind"==t.selected},on:{click:function(e){t.selected="wind"}}},[t._v("Wind")]),s("div",{class:{selected:"hum"==t.selected},on:{click:function(e){t.selected="hum"}}},[t._v("Humidity")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"wind"==t.selected,expression:"selected=='wind'"}],staticClass:"forecast-temp"},t._l(t.windDetails,(function(e,a){return s("div",{key:a,staticClass:"forecast-item"},[s("div",{staticClass:"time"},[t._v(t._s(e.dt_txt.substr(11,2))+" "),s("span",{staticClass:"small"},[t._v("00")])]),s("div",{staticClass:"feature"},[t._v(t._s(Math.ceil(e.speed))+" m/s")]),s("div",{staticClass:"feature"},[s("i",{staticClass:"fas fa-arrow-down",style:{transform:"rotate("+e.degree+"deg)"}})]),s("div",{staticClass:"feature"},[t._v(t._s(e.direction))])])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:"hum"==t.selected,expression:"selected=='hum'"}],staticClass:"forecast-temp"},t._l(t.fullForecast,(function(e,a){return s("div",{key:a,staticClass:"forecast-item"},[s("div",{staticClass:"time"},[t._v(t._s(e.dt_txt.substr(11,2))+" "),s("span",{staticClass:"small"},[t._v("00")])]),s("div",{staticClass:"feature"},[t._v(t._s(e.main.humidity)+" %")])])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:"temp"==t.selected,expression:"selected=='temp'"}],staticClass:"forecast-temp"},t._l(t.fullForecast,(function(e,a){return s("div",{key:a,staticClass:"forecast-item"},[s("div",{staticClass:"time"},[t._v(t._s(e.dt_txt.substr(11,2))+" "),s("span",{staticClass:"small"},[t._v("00")])]),s("div",{staticClass:"temp"},[s("img",{attrs:{src:"https://openweathermap.org/img/wn/"+e.weather[0]["icon"]+"@2x.png",alt:""}})]),s("div",{staticClass:"temp"},[t._v(t._s(Math.round(e.main["temp"]))+"°")])])})),0),s("div",{staticClass:"forecast-days"},[s("div",{staticClass:"title"},[t._v("Days:")]),s("div",{staticClass:"forecast-days-item"},t._l(t.daysList,(function(e,a){return s("div",{key:a,staticClass:"days-item"},[s("router-link",{attrs:{to:{name:"item",params:{id:a+1+"-day"}}}},[s("span",{class:{bold:e==t.chosenDay}},[t._v(t._s(e))])])],1)})),0)])])])},w=[],g=(s("ac1f"),s("5319"),{data:function(){return{months:["Jan","Feb","March","April","May","June","July","August","September","October","November","December"],weeks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],directions:["N","NE","E","SE","S","SW","W","NW"],degrees:[0,45,90,135,180,225,270,315],selected:"temp"}},computed:{fullForecast:function(){var t=this.$route.params.id.replace(/[^0-9]/g,"")-1;return this.$store.getters.fullForecast[t],this.$store.getters.fullForecast[t]},cityName:function(){return this.$store.getters.cityName},day:function(){var t=new Date(this.fullForecast[0]["dt_txt"]),e=[t.getDate(),this.months[t.getMonth()]].join(" "),s=this.weeks[t.getDay()],a="".concat(e,", ").concat(s);return a},daysList:function(){for(var t=[],e=0;e<this.$store.getters.fullForecast.length;e++){var s=new Date(this.$store.getters.fullForecast[e][0]["dt_txt"]),a=[s.getDate(),this.months[s.getMonth()]].join(" ");t.push(a)}return t},chosenDay:function(){var t=this.$route.params.id.replace(/[^0-9]/g,"")-1;return this.daysList[t]},windDetails:function(){for(var t=[],e=0;e<this.fullForecast.length;e++){var s=this.fullForecast[e].wind.deg;s=Math.round(s/360*8),s=(s+8)%8,t.push({dt_txt:this.fullForecast[e].dt_txt,speed:this.fullForecast[e].wind.speed,degree:this.degrees[s],direction:this.directions[s]})}return t}}}),_=g,D=(s("2bd3"),Object(n["a"])(_,v,w,!1,null,"41d7cdb8",null)),b=D.exports;a["a"].use(h["a"]);var F=[{path:"/",name:"Home",component:y},{path:"/:id",name:"item",component:b},{path:"/:id*",name:"note found",component:y}],C=new h["a"]({mode:"history",base:"/weather-app/",routes:F}),N=C,W=s("2f62");a["a"].use(W["a"]);var k=new W["a"].Store({state:{fullForecast:JSON.parse(localStorage.fullForecast||"[]"),cityName:JSON.parse(localStorage.cityName||"[]"),shortForecast:JSON.parse(localStorage.shortForecast||"[]"),nowWeather:JSON.parse(localStorage.nowWeather||"[]")},mutations:{fullForecast:function(t,e){var s=e.newForecast,a=e.cityName;t.fullForecast=s,localStorage.fullForecast=JSON.stringify(t.fullForecast),t.cityName=a,localStorage.cityName=JSON.stringify(t.cityName)},shortForecast:function(t,e){t.shortForecast=e,localStorage.shortForecast=JSON.stringify(t.shortForecast)},nowWeather:function(t,e){t.nowWeather=e,localStorage.nowWeather=JSON.stringify(t.nowWeather)}},actions:{fullForecast:function(t,e){var s=t.commit,a=e.newForecast,r=e.cityName;s("fullForecast",{newForecast:a,cityName:r})},shortForecast:function(t,e){var s=t.commit;s("shortForecast",e)},nowWeather:function(t,e){var s=t.commit;s("nowWeather",e)}},getters:{fullForecast:function(t){return t.fullForecast},shortForecast:function(t){return t.shortForecast},nowWeather:function(t){return t.nowWeather},cityName:function(t){return t.cityName}}});a["a"].config.productionTip=!1,a["a"].directive("focus",{inserted:function(t){t.focus()}}),new a["a"]({router:N,store:k,render:function(t){return t(l)}}).$mount("#app")},"7a21":function(t,e,s){},"85ec":function(t,e,s){},a49f:function(t,e,s){},ae36:function(t,e,s){"use strict";s("7a21")}});
//# sourceMappingURL=app.4fff0346.js.map